<script>
let history = [];

function snapshot(){
  let data = {
    time: new Date().toLocaleTimeString(),
    oddsA: Number(document.getElementById("oddsA").value),
    loadA: Number(document.getElementById("loadA").value),
    oddsB: Number(document.getElementById("oddsB").value),
    loadB: Number(document.getElementById("loadB").value)
  };
  history.push(data);
  analyze();
}

function analyze(){
  if(history.length < 2) return;
  let prev = history[history.length-2];
  let curr = history[history.length-1];

  let loadChange = curr.loadA - prev.loadA;
  let oddsChange = curr.oddsA - prev.oddsA;

  let signal = "WAIT";
  if(loadChange > 0 && oddsChange < 0) signal = "‚úÖ REAL MOVE";
  else if(loadChange > 0 && oddsChange > 0) signal = "‚ö†Ô∏è FAKE MOVE";
  else if(Math.abs(loadChange) < 50) signal = "üßä BOOKIE CONTROL";

  document.getElementById("signal").innerText = signal;
}

setInterval(snapshot, 30000); // every 30 sec
</script>
